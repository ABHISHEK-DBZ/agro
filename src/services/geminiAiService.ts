import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from '@google/generative-ai';

interface GeminiResponse {
  text: string;
  category: string;
  confidence: number;
  suggestions: string[];
}

class GeminiAiService {
  private genAI: GoogleGenerativeAI;
  private primaryModel: any;
  private fallbackModel: any;
  private conversationHistory: any[] = [];

  constructor() {
    // Gemini API Key from environment variable
    const API_KEY = import.meta.env.VITE_GEMINI_API_KEY || 'AIzaSyAzINXlPpCs6NnXyQJzmDsk0pzWV40dhwk';
    
    if (!API_KEY || API_KEY === 'your_api_key_here') {
      console.warn('тЪая╕П Gemini API key not properly configured');
    }
    
    this.genAI = new GoogleGenerativeAI(API_KEY);
    
    // Primary model - Gemini 1.5 Flash
    this.primaryModel = this.genAI.getGenerativeModel({ 
      model: 'gemini-1.5-flash',
      systemInstruction: "You are an expert agricultural advisor for Indian farmers called 'Smart Krishi Sahayak AI'. Provide helpful, practical advice about farming, crops, weather, soil, pests, government schemes, and organic farming. Always respond in the user's preferred language (Hindi or English) with simple, actionable guidance suited to Indian agricultural conditions.",
      safetySettings: [
        {
          category: HarmCategory.HARM_CATEGORY_HARASSMENT,
          threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
        },
        {
          category: HarmCategory.HARM_CATEGORY_HATE_SPEECH,
          threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE,
        },
      ],
    });

    // Fallback model - Gemini Pro (if available)
    this.fallbackModel = this.genAI.getGenerativeModel({ 
      model: 'gemini-1.5-pro',
      systemInstruction: "You are an expert agricultural advisor for Indian farmers called 'Smart Krishi Sahayak AI'. Provide helpful, practical advice about farming, crops, weather, soil, pests, government schemes, and organic farming. Always respond in the user's preferred language (Hindi or English) with simple, actionable guidance suited to Indian agricultural conditions.",
    });
  }

  // Note: System prompt is now handled in model constructor
  // private getAgricultureSystemPrompt method removed as it's integrated into systemInstruction

  private categorizeQuery(query: string, _language: string): string {
    const hindiCategories = {
      'cropManagement': ['рдлрд╕рд▓', 'рдмреБрд╡рд╛рдИ', 'рдХрдЯрд╛рдИ', 'рдХрд┐рд╕реНрдо', 'рдмреАрдЬ', 'crop', 'seed', 'variety'],
      'pestControl': ['рдХреАрдЯ', 'рд░реЛрдЧ', 'рдмреАрдорд╛рд░реА', 'рдХреАрдбрд╝реЗ', 'pest', 'disease', 'insect', 'fungus'],
      'soilHealth': ['рдорд┐рдЯреНрдЯреА', 'рдЦрд╛рдж', 'рдЙрд░реНрд╡рд░рдХ', 'soil', 'fertilizer', 'compost', 'manure'],
      'irrigation': ['рдкрд╛рдиреА', 'рд╕рд┐рдВрдЪрд╛рдИ', 'water', 'irrigation', 'drip', 'sprinkler'],
      'weatherImpact': ['рдореМрд╕рдо', 'рдмрд╛рд░рд┐рд╢', 'рддрд╛рдкрдорд╛рди', 'weather', 'rain', 'temperature'],
      'marketPrices': ['рднрд╛рд╡', 'рдордВрдбреА', 'рдХреАрдордд', 'рдмреЗрдЪрдирд╛', 'price', 'market', 'selling'],
      'governmentSchemes': ['рдпреЛрдЬрдирд╛', 'рд╕рд░рдХрд╛рд░', 'рд╕рдмреНрд╕рд┐рдбреА', 'scheme', 'government', 'subsidy'],
      'organicFarming': ['рдЬреИрд╡рд┐рдХ', 'рдкреНрд░рд╛рдХреГрддрд┐рдХ', 'organic', 'natural', 'bio']
    };

    const queryLower = query.toLowerCase();
    
    for (const [category, keywords] of Object.entries(hindiCategories)) {
      if (keywords.some(keyword => queryLower.includes(keyword))) {
        return category;
      }
    }
    
    return 'general';
  }

  private generateSuggestions(category: string, language: string): string[] {
    const suggestions: { [key: string]: { [key: string]: string[] } } = {
      cropManagement: {
        hi: [
          "рдЗрд╕ рдореМрд╕рдо рдореЗрдВ рдХреМрди рд╕реА рдлрд╕рд▓ рдЙрдЧрд╛рдиреА рдЪрд╛рд╣рд┐рдП?",
          "рдмреАрдЬ рдХреА рдорд╛рддреНрд░рд╛ рдХрд┐рддрдиреА рд░рдЦреЗрдВ?",
          "рдлрд╕рд▓ рдХреА рджреЗрдЦрднрд╛рд▓ рдХреИрд╕реЗ рдХрд░реЗрдВ?"
        ],
        en: [
          "Which crop should I grow this season?",
          "How much seed quantity is needed?",
          "How to take care of crops?"
        ]
      },
      pestControl: {
        hi: [
          "рдкреНрд░рд╛рдХреГрддрд┐рдХ рдХреАрдЯрдирд╛рд╢рдХ рдХреИрд╕реЗ рдмрдирд╛рдПрдВ?",
          "рдЗрд╕ рд░реЛрдЧ рдХрд╛ рдЗрд▓рд╛рдЬ рдХреНрдпрд╛ рд╣реИ?",
          "рдХреАрдбрд╝реЛрдВ рд╕реЗ рдХреИрд╕реЗ рдмрдЪрд╛рд╡ рдХрд░реЗрдВ?"
        ],
        en: [
          "How to make natural pesticides?",
          "What is the treatment for this disease?",
          "How to protect from insects?"
        ]
      },
      soilHealth: {
        hi: [
          "рдорд┐рдЯреНрдЯреА рдХреА рдЬрд╛рдВрдЪ рдХреИрд╕реЗ рдХрд░реЗрдВ?",
          "рдХреМрди рд╕рд╛ рдЙрд░реНрд╡рд░рдХ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ?",
          "рдорд┐рдЯреНрдЯреА рдХреЛ рдЙрдкрдЬрд╛рдК рдХреИрд╕реЗ рдмрдирд╛рдПрдВ?"
        ],
        en: [
          "How to test soil?",
          "Which fertilizer is best?",
          "How to make soil fertile?"
        ]
      }
    };

    return suggestions[category]?.[language] || suggestions['cropManagement'][language] || [];
  }

  private async generateWithRetry(prompt: string, maxRetries: number): Promise<string> {
    let lastError: any;
    
    for (let attempt = 1; attempt <= maxRetries; attempt++) {
      try {
        console.log(`ЁЯдЦ Gemini API attempt ${attempt}/${maxRetries}`);
        
        // Try primary model first
        const result = await this.primaryModel.generateContent(prompt);
        const response = await result.response;
        return response.text();
        
      } catch (error: any) {
        lastError = error;
        console.warn(`тЪая╕П Attempt ${attempt} failed:`, error.message);
        
        // If it's a 503 (overloaded) error, try fallback model
        if (error.message.includes('503') || error.message.includes('overloaded')) {
          try {
            console.log(`ЁЯФД Trying fallback model...`);
            const fallbackResult = await this.fallbackModel.generateContent(prompt);
            const fallbackResponse = await fallbackResult.response;
            return fallbackResponse.text();
          } catch (fallbackError: any) {
            console.warn(`тЪая╕П Fallback model also failed:`, fallbackError.message);
          }
        }
        
        // Wait before retry (exponential backoff)
        if (attempt < maxRetries) {
          const waitTime = Math.min(1000 * Math.pow(2, attempt - 1), 10000); // Max 10 seconds
          console.log(`тП│ Waiting ${waitTime}ms before retry...`);
          await new Promise(resolve => setTimeout(resolve, waitTime));
        }
      }
    }
    
    // If all retries failed, throw the last error
    throw lastError;
  }

  public async getAgricultureResponse(
    query: string, 
    language: string = 'hi',
    userLocation?: any
  ): Promise<GeminiResponse> {
    try {
      // If no query, provide welcome message
      if (!query.trim()) {
        const getWelcomeMessage = (lang: string) => {
          const messages: Record<string, string> = {
            hi: `рдирдорд╕реНрддреЗ! ЁЯЩП рдореИрдВ рдЖрдкрдХрд╛ Smart Krishi Sahayak AI рд╣реВрдВред

рдореИрдВ рдЖрдкрдХреА рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪреАрдЬреЛрдВ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ:

ЁЯМ▒ **рдлрд╕рд▓ рдкреНрд░рдмрдВрдзрди** - рдмреБрд╡рд╛рдИ рд╕реЗ рдХрдЯрд╛рдИ рддрдХ рд╕рдм рдХреБрдЫ
ЁЯРЫ **рдХреАрдЯ рдФрд░ рд░реЛрдЧ рдирд┐рдпрдВрддреНрд░рдг** - рдкреНрд░рд╛рдХреГрддрд┐рдХ рдФрд░ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рджреЛрдиреЛрдВ рдЙрдкрд╛рдп  
ЁЯзк **рдорд┐рдЯреНрдЯреА рдХреА рд╕реЗрд╣рдд** - рдорд┐рдЯреНрдЯреА рдкрд░реАрдХреНрд╖рдг рдФрд░ рдЙрд░реНрд╡рд░рдХ рд╕рд▓рд╛рд╣
ЁЯТз **рд╕рд┐рдВрдЪрд╛рдИ** - рдкрд╛рдиреА рдмрдЪрд╛рдиреЗ рдХреЗ рддрд░реАрдХреЗ
ЁЯМжя╕П **рдореМрд╕рдо** - рдореМрд╕рдо рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдлрд╕рд▓ рд╕рд▓рд╛рд╣
ЁЯТ░ **рдмрд╛рдЬрд╛рд░ рднрд╛рд╡** - рдХрдм рдФрд░ рдХрд╣рд╛рдВ рдмреЗрдЪреЗрдВ
ЁЯПЫя╕П **рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ** - PM-KISAN, рдмреАрдорд╛, рд╕рдмреНрд╕рд┐рдбреА
ЁЯзСтАНЁЯМ╛ **рдЬреИрд╡рд┐рдХ рдЦреЗрддреА** - рдкреНрд░рд╛рдХреГрддрд┐рдХ рддрд░реАрдХреЛрдВ рд╕реЗ рдЦреЗрддреА

рдореБрдЭрд╕реЗ рдХреЛрдИ рднреА рдХреГрд╖рд┐ рд╕рдВрдмрдВрдзреА рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдВ! рдореИрдВ рднрд╛рд░рддреАрдп рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реВрдВред ЁЯЪЬЁЯМ╛`,

            mr: `рдирдорд╕реНрдХрд╛рд░! ЁЯЩП рдореА рддреБрдордЪрд╛ Smart Krishi Sahayak AI рдЖрд╣реЗред

рдореА рддреБрдореНрд╣рд╛рд▓рд╛ рдпрд╛ рдЧреЛрд╖реНрдЯреАрдВрдордзреНрдпреЗ рдорджрдд рдХрд░реВ рд╢рдХрддреЛ:

ЁЯМ▒ **рдкреАрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди** - рдмрд┐рдпрд╛рдгреЗ рдкрд╛рд╕реВрди рдХрд╛рдкрдгреА рдкрд░реНрдпрдВрдд рд╕рд░реНрд╡ рдХрд╛рд╣реА
ЁЯРЫ **рдХреАрдЯрдХ рдЖрдгрд┐ рд░реЛрдЧ рдирд┐рдпрдВрддреНрд░рдг** - рдиреИрд╕рд░реНрдЧрд┐рдХ рдЖрдгрд┐ рд░рд╛рд╕рд╛рдпрдирд┐рдХ рджреЛрдиреНрд╣реА рдЙрдкрд╛рдп
ЁЯзк **рдорд╛рддреАрдЪреА рдирд┐рд░реЛрдЧреАрддрд╛** - рдорд╛рддреА рдЪрд╛рдЪрдгреА рдЖрдгрд┐ рдЦрдд рд╕рд▓реНрд▓рд╛
ЁЯТз **рд╕рд┐рдВрдЪрди** - рдкрд╛рдгреА рд╡рд╛рдЪрд╡рдгреНрдпрд╛рдЪреЗ рдорд╛рд░реНрдЧ
ЁЯМжя╕П **рд╣рд╡рд╛рдорд╛рди** - рд╣рд╡рд╛рдорд╛рдирд╛рдиреБрд╕рд╛рд░ рдкреАрдХ рд╕рд▓реНрд▓рд╛
ЁЯТ░ **рдмрд╛рдЬрд╛рд░ рднрд╛рд╡** - рдХрдзреА рдЖрдгрд┐ рдХреБрдареЗ рд╡рд┐рдХрд╛рд╡реЗ
ЁЯПЫя╕П **рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛** - PM-KISAN, рд╡рд┐рдорд╛, рдЕрдиреБрджрд╛рди
ЁЯзСтАНЁЯМ╛ **рдЬреИрд╡рд┐рдХ рд╢реЗрддреА** - рдиреИрд╕рд░реНрдЧрд┐рдХ рдкрджреНрдзрддреАрдиреЗ рд╢реЗрддреА

рдорд╛рдЭреНрдпрд╛рдХрдбреЗ рдХреЛрдгрддрд╛рд╣реА рдХреГрд╖реА рд╕рдВрдмрдВрдзреА рдкреНрд░рд╢реНрди рд╡рд┐рдЪрд╛рд░рд╛! рдореА рднрд╛рд░рддреАрдп рд╢реЗрддрдХрд░реНтАНрдпрд╛рдВрд╕рд╛рдареА рдЦрд╛рд╕рдХрд░реВрди рдмрдирд╡рд┐рд▓реЗрд▓рд╛ рдЖрд╣реЗред ЁЯЪЬЁЯМ╛`,

            gu: `ркиркорк╕рлНркдрлЗ! ЁЯЩП рк╣рлБркВ ркдркорк╛рк░рлЛ Smart Krishi Sahayak AI ркЫрлБркВред

рк╣рлБркВ ркдркоркирлЗ ркЖ ркмрк╛ркмркдрлЛркорк╛ркВ ркоркжркж ркХрк░рлА рк╢ркХрлБркВ ркЫрлБркВ:

ЁЯМ▒ **рккрк╛ркХ рк╡рлНркпрк╡рк╕рлНркерк╛рккрки** - рк╡рк╛рк╡рлЗркдрк░ркерлА рк▓ркгркгрлА рк╕рлБркзрлА ркмркзрлБркВ
ЁЯРЫ **ркЬркВркдрлБ ркЕркирлЗ рк░рлЛркЧ ркирк┐ркпркВркдрлНрк░ркг** - ркХрлБркжрк░ркдрлА ркЕркирлЗ рк░рк╛рк╕рк╛ркпркгрк┐ркХ ркмркВркирлЗ ркЙрккрк╛ркпрлЛ
ЁЯзк **ркорк╛ркЯрлАркирлА рк╕рлНрк╡рк╛рк╕рлНркерлНркп** - ркорк╛ркЯрлА рккрк░рлАркХрлНрк╖ркг ркЕркирлЗ ркЦрк╛ркдрк░ рк╕рк▓рк╛рк╣
ЁЯТз **рк╕рк┐ркВркЪрк╛ркИ** - рккрк╛ркгрлА ркмркЪрк╛рк╡рк╡рк╛ркирлА рк░рлАркдрлЛ
ЁЯМжя╕П **рк╣рк╡рк╛ркорк╛рки** - рк╣рк╡рк╛ркорк╛рки ркЕркирлБрк╕рк╛рк░ рккрк╛ркХ рк╕рк▓рк╛рк╣
ЁЯТ░ **ркмркЬрк╛рк░ ркнрк╛рк╡** - ркХрлНркпрк╛рк░рлЗ ркЕркирлЗ ркХрлНркпрк╛ркВ рк╡рлЗркЪрк╡рлБркВ
ЁЯПЫя╕П **рк╕рк░ркХрк╛рк░рлА ркпрлЛркЬркирк╛ркУ** - PM-KISAN, рк╡рлАркорлЛ, рк╕ркмрк╕рк┐ркбрлА
ЁЯзСтАНЁЯМ╛ **ркЬрлИрк╡рк┐ркХ ркЦрлЗркдрлА** - ркХрлБркжрк░ркдрлА рккркжрлНркзркдрк┐ркерлА ркЦрлЗркдрлА

ркоркирлЗ ркХрлЛркИрккркг ркХрлГрк╖рк┐ рк╕ркВркмркВркзрлА рккрлНрк░рк╢рлНрки рккрлВркЫрлЛ! рк╣рлБркВ ркнрк╛рк░ркдрлАркп ркЦрлЗркбрлВркдрлЛ ркорк╛ркЯрлЗ ркЦрк╛рк╕ ркмркирк╛рк╡рк╡рк╛ркорк╛ркВ ркЖрк╡рлНркпрлЛ ркЫрлБркВред ЁЯЪЬЁЯМ╛`,

            ta: `ро╡рогроХрпНроХроорпН! ЁЯЩП роиро╛ройрпН роЙроЩрпНроХро│рпН Smart Krishi Sahayak AI.

роиро╛ройрпН роЗроирпНрод ро╡ро┐ро╖ропроЩрпНроХро│ро┐ро▓рпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роЙродро╡ роорпБроЯро┐ропрпБроорпН:

ЁЯМ▒ **рокропро┐ро░рпН роорпЗро▓ро╛рогрпНроорпИ** - ро╡ро┐родрпИрокрпНрокрпБ роорпБродро▓рпН роЕро▒рпБро╡роЯрпИ ро╡ро░рпИ роЕройрпИродрпНродрпБроорпН
ЁЯРЫ **рокрпВроЪрпНроЪро┐ рооро▒рпНро▒рпБроорпН роирпЛропрпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ** - роЗропро▒рпНроХрпИ рооро▒рпНро▒рпБроорпН роЗро░роЪро╛ропрой роЗро░рогрпНроЯрпБ ро╡ро┤ро┐роХро│рпБроорпН
ЁЯзк **роорогрпН роЖро░рпЛроХрпНроХро┐ропроорпН ** - роорогрпН рокро░ро┐роЪрпЛродройрпИ рооро▒рпНро▒рпБроорпН роЙро░роорпН роЖро▓рпЛроЪройрпИ
ЁЯТз **роирпАро░рпНрокрпНрокро╛роЪройроорпН** - роирпАро░рпН роЪрпЗрооро┐роХрпНроХрпБроорпН ро╡ро┤ро┐роХро│рпН
ЁЯМжя╕П **ро╡ро╛ройро┐ро▓рпИ** - ро╡ро╛ройро┐ро▓рпИ роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН рокропро┐ро░рпН роЖро▓рпЛроЪройрпИ
ЁЯТ░ **роЪроирпНродрпИ ро╡ро┐ро▓рпИ** - роОрокрпНрокрпЛродрпБ роОроЩрпНроХрпЗ ро╡ро┐ро▒рпНрокродрпБ
ЁЯПЫя╕П **роЕро░роЪрпБ родро┐роЯрпНроЯроЩрпНроХро│рпН** - PM-KISAN, роХро╛рокрпНрокрпАроЯрпБ, рооро╛ройро┐ропроорпН
ЁЯзСтАНЁЯМ╛ **роЗропро▒рпНроХрпИ ро╡ро┐ро╡роЪро╛ропроорпН** - роЗропро▒рпНроХрпИ роорпБро▒рпИропро┐ро▓рпН ро╡ро┐ро╡роЪро╛ропроорпН

роОройрпНройро┐роЯроорпН роОроирпНрод ро╡ро┐ро╡роЪро╛роп родрпКроЯро░рпНрокро╛рой роХрпЗро│рпНро╡ро┐ропрпИропрпБроорпН роХрпЗро│рпБроЩрпНроХро│рпН! роиро╛ройрпН роЗроирпНродро┐роп ро╡ро┐ро╡роЪро╛ропро┐роХро│рпБроХрпНроХро╛роХ роЪро┐ро▒рокрпНрокро╛роХ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯрпЗройрпН. ЁЯЪЬЁЯМ╛`,

            te: `р░ир░ор░╕р▒Нр░Хр░╛р░░р░В! ЁЯЩП р░ир▒Зр░ир▒Б р░ор▒А Smart Krishi Sahayak AI.

р░ир▒Зр░ир▒Б р░И р░╡р░┐р░╖р░пр░╛р░▓р░▓р▒Л р░ор▒Ар░Хр▒Б р░╕р░╣р░╛р░пр░В р░Ър▒Зр░пр░Чр░▓р░ир▒Б:

ЁЯМ▒ **р░кр░Вр░Я р░ир░┐р░░р▒Нр░╡р░╣р░г** - р░╡р░┐р░др▒Нр░др░ир░В р░ир▒Бр░Вр░бр░┐ р░кр░Вр░Я р░╡р░░р░Хр▒Б р░Ер░ир▒Нр░ир▒А
ЁЯРЫ **р░Хр▒Ар░Яр░Хр░╛р░▓р▒Б р░ор░░р░┐р░пр▒Б р░╡р▒Нр░пр░╛р░зр▒Бр░▓ р░ир░┐р░пр░Вр░др▒Нр░░р░г** - р░╕р░╣р░Ь р░ор░░р░┐р░пр▒Б р░░р░╕р░╛р░пр░и р░░р▒Жр░Вр░бр▒Б р░ор░╛р░░р▒Нр░Чр░╛р░▓р▒Б
ЁЯзк **р░ор░Яр▒Нр░Яр░┐ р░Жр░░р▒Лр░Чр▒Нр░пр░В** - р░ор░Яр▒Нр░Яр░┐ р░кр░░р▒Ар░Хр▒Нр░╖ р░ор░░р░┐р░пр▒Б р░Ор░░р▒Бр░╡р▒Бр░▓ р░╕р░▓р░╣р░╛
ЁЯТз **р░ир▒Ар░Яр░┐р░кр░╛р░░р▒Бр░жр░▓** - р░ир▒Ар░Яр░┐р░ир░┐ р░Жр░жр░╛ р░Ър▒Зр░╕р▒З р░ор░╛р░░р▒Нр░Чр░╛р░▓р▒Б
ЁЯМжя╕П **р░╡р░╛р░др░╛р░╡р░░р░гр░В** - р░╡р░╛р░др░╛р░╡р░░р░г р░Жр░зр░╛р░░р░┐р░д р░кр░Вр░Я р░╕р░▓р░╣р░╛
ЁЯТ░ **р░ор░╛р░░р▒Нр░Хр▒Жр░Яр▒Н р░зр░░р░▓р▒Б** - р░Ор░кр▒Нр░кр▒Бр░бр▒Б р░Ор░Хр▒Нр░Хр░б р░Ер░ор▒Нр░ор░╛р░▓р░┐
ЁЯПЫя╕П **р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡ р░кр░ер░Хр░╛р░▓р▒Б** - PM-KISAN, р░мр▒Ар░ор░╛, р░╕р░мр▒Нр░╕р░┐р░бр▒А
ЁЯзСтАНЁЯМ╛ **р░╕р▒Зр░Вр░жр▒Нр░░р▒Ар░п р░╡р▒Нр░пр░╡р░╕р░╛р░пр░В** - р░╕р░╣р░Ь р░кр░жр▒Нр░зр░др▒Бр░▓р░др▒Л р░╡р▒Нр░пр░╡р░╕р░╛р░пр░В

р░ир░ир▒Нр░ир▒Б р░Пр░жр▒Ир░ир░╛ р░╡р▒Нр░пр░╡р░╕р░╛р░п р░╕р░Вр░мр░Вр░зр░┐р░д р░кр▒Нр░░р░╢р▒Нр░и р░Ер░бр░Чр░Вр░бр░┐! р░ир▒Зр░ир▒Б р░нр░╛р░░р░др▒Ар░п р░░р▒Ир░др▒Бр░▓ р░Хр▒Лр░╕р░В р░кр▒Нр░░р░др▒Нр░пр▒Зр░Хр░Вр░Чр░╛ р░░р▒Вр░кр▒Кр░Вр░жр░┐р░Вр░Ър░мр░бр▒Нр░бр░╛р░ир▒Бред ЁЯЪЬЁЯМ╛`,

            pa: `ри╕рид ри╕рйНри░рйА риЕриХри╛ри▓! ЁЯЩП риорйИриВ ридрйБри╣ри╛рибри╛ Smart Krishi Sahayak AI ри╣ри╛риВред

риорйИриВ ридрйБри╣ри╛риирйВрй░ риЗриирйНри╣ри╛риВ риЪрйАриЬри╝ри╛риВ ри╡ри┐рй▒риЪ риорижриж риХри░ ри╕риХрижри╛ ри╣ри╛риВ:

ЁЯМ▒ **рилри╕ри▓ рикрйНри░римрй░ризрии** - римрйАриЬри╛риИ ридрйЛриВ ри╡ри╛риврйА ридрй▒риХ ри╕рин риХрйБриЭ
ЁЯРЫ **риХрйАрйЬрйЗ риЕридрйЗ римри┐риори╛ри░рйА риири┐рипрй░ридри░риг** - риХрйБрижри░ридрйА риЕридрйЗ ри░ри╕ри╛риЗригриХ рижрйЛри╡рйЗриВ риЙрикри╛риЕ
ЁЯзк **риори┐рй▒риЯрйА рижрйА ри╕ри┐ри╣рид** - риори┐рй▒риЯрйА риЬри╛риВриЪ риЕридрйЗ риЦри╛риж ри╕ри▓ри╛ри╣
ЁЯТз **ри╕ри┐рй░риЪри╛риИ** - рикри╛ригрйА римриЪри╛риЙриг рижрйЗ ридри░рйАриХрйЗ
ЁЯМжя╕П **риорйМри╕рио** - риорйМри╕рио риЕриирйБри╕ри╛ри░ рилри╕ри▓ ри╕ри▓ри╛ри╣
ЁЯТ░ **риори╛ри░риХрйАриЯ ринри╛ри╡** - риХрижрйЛриВ риЕридрйЗ риХри┐рй▒риерйЗ ри╡рйЗриЪригри╛
ЁЯПЫя╕П **ри╕ри░риХри╛ри░рйА рипрйЛриЬриири╛ри╡ри╛риВ** - PM-KISAN, римрйАриори╛, ри╕римри╕ри┐рибрйА
ЁЯзСтАНЁЯМ╛ **риЬрйИри╡ри┐риХ риЦрйЗридрйА** - риХрйБрижри░ридрйА ридри░рйАриХри┐риЖриВ риири╛ри▓ риЦрйЗридрйА

риорйИриирйВрй░ риХрйЛриИ ри╡рйА риЦрйЗридрйА риири╛ри▓ риЬрйБрйЬри┐риЖ ри╕ри╡ри╛ри▓ рикрйБрй▒риЫрйЛ! риорйИриВ ринри╛ри░ридрйА риХри┐ри╕ри╛риири╛риВ ри▓риИ риЦри╛ри╕ ридрйМри░ 'ридрйЗ римригри╛риЗриЖ риЧри┐риЖ ри╣ри╛риВред ЁЯЪЬЁЯМ╛`,

            bn: `ржиржорж╕рзНржХрж╛рж░! ЁЯЩП ржЖржорж┐ ржЖржкржирж╛рж░ Smart Krishi Sahayak AIред

ржЖржорж┐ ржПржЗ ржмрж┐рж╖ржпрж╝ржЧрзБрж▓рж┐рждрзЗ ржЖржкржирж╛ржХрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рждрзЗ ржкрж╛рж░рж┐:

ЁЯМ▒ **ржлрж╕рж▓ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛** - ржмрзАржЬ ржмржкржи ржерзЗржХрзЗ ржлрж╕рж▓ ржХрж╛ржЯрж╛ ржкрж░рзНржпржирзНржд рж╕ржм ржХрж┐ржЫрзБ
ЁЯРЫ **ржкрзЛржХрж╛ржорж╛ржХржбрж╝ ржУ рж░рзЛржЧ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг** - ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржУ рж░рж╛рж╕рж╛ржпрж╝ржирж┐ржХ ржЙржнржпрж╝ ржЙржкрж╛ржпрж╝
ЁЯзк **ржорж╛ржЯрж┐рж░ рж╕рзНржмрж╛рж╕рзНржерзНржп** - ржорж╛ржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛ ржУ рж╕рж╛рж░ ржкрж░рж╛ржорж░рзНрж╢
ЁЯТз **рж╕рзЗржЪ** - ржкрж╛ржирж┐ рж╕рж╛рж╢рзНрж░ржпрж╝рзЗрж░ ржЙржкрж╛ржпрж╝
ЁЯМжя╕П **ржЖржмрж╣рж╛ржУржпрж╝рж╛** - ржЖржмрж╣рж╛ржУржпрж╝рж╛ ржЕржирзБржпрж╛ржпрж╝рзА ржлрж╕рж▓ ржкрж░рж╛ржорж░рзНрж╢
ЁЯТ░ **ржмрж╛ржЬрж╛рж░ ржжрж░** - ржХржЦржи ржХрзЛржерж╛ржпрж╝ ржмрж┐ржХрзНрж░ржпрж╝ ржХрж░ржмрзЗржи
ЁЯПЫя╕П **рж╕рж░ржХрж╛рж░рж┐ ржкрж░рж┐ржХрж▓рзНржкржирж╛** - PM-KISAN, ржмрзАржорж╛, ржнрж░рзНрждрзБржХрж┐
ЁЯзСтАНЁЯМ╛ **ржЬрзИржм ржЪрж╛рж╖рж╛ржмрж╛ржж** - ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржкржжрзНржзрждрж┐рждрзЗ ржЪрж╛рж╖рж╛ржмрж╛ржж

ржЖржорж╛ржХрзЗ ржпрзЗржХрзЛржирзЛ ржХрзГрж╖рж┐ рж╕ржВржХрзНрж░рж╛ржирзНржд ржкрзНрж░рж╢рзНржи ржХрж░рзБржи! ржЖржорж┐ ржнрж╛рж░рждрзАржпрж╝ ржХрзГрж╖ржХржжрзЗрж░ ржЬржирзНржп ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ рждрзИрж░рж┐ред ЁЯЪЬЁЯМ╛`,

            kn: `р▓ир▓ор▓╕р│Нр▓Хр▓╛р▓░! ЁЯЩП р▓ир▓╛р▓ир│Б р▓ир▓┐р▓ор│Нр▓о Smart Krishi Sahayak AI.

р▓ир▓╛р▓ир│Б р▓И р▓╡р▓┐р▓╖р▓пр▓Чр▓│р▓▓р│Нр▓▓р▓┐ р▓ир▓┐р▓ор▓Чр│Ж р▓╕р▓╣р▓╛р▓п р▓ор▓╛р▓бр▓мр▓╣р│Бр▓жр│Б:

ЁЯМ▒ **р▓мр│Жр▓│р│Ж р▓ир▓┐р▓░р│Нр▓╡р▓╣р▓гр│Ж** - р▓мр▓┐р▓др│Нр▓др▓ир│Жр▓пр▓┐р▓Вр▓ж р▓╕р│Бр▓Чр│Нр▓Чр▓┐р▓пр▓╡р▓░р│Жр▓Чр│Ж р▓Ор▓▓р│Нр▓▓р▓╡р│В
ЁЯРЫ **р▓Хр│Ар▓Я р▓ор▓др│Нр▓др│Б р▓░р│Лр▓Ч р▓ир▓┐р▓пр▓Вр▓др│Нр▓░р▓г** - р▓ир│Ир▓╕р▓░р│Нр▓Чр▓┐р▓Х р▓ор▓др│Нр▓др│Б р▓░р▓╛р▓╕р▓╛р▓пр▓ир▓┐р▓Х р▓Ор▓░р▓бр│В р▓ор▓╛р▓░р│Нр▓Чр▓Чр▓│р│Б
ЁЯзк **р▓ор▓гр│Нр▓гр▓┐р▓и р▓Жр▓░р│Лр▓Чр│Нр▓п** - р▓ор▓гр│Нр▓гр│Б р▓кр▓░р│Ар▓Хр│Нр▓╖р│Ж р▓ор▓др│Нр▓др│Б р▓Чр│Кр▓мр│Нр▓мр▓░ р▓╕р▓▓р▓╣р│Ж
ЁЯТз **р▓ир│Ар▓░р▓╛р▓╡р▓░р▓┐** - р▓ир│Ар▓░р│Б р▓Йр▓│р▓┐р▓╕р│Бр▓╡ р▓╡р▓┐р▓зр▓╛р▓ир▓Чр▓│р│Б
ЁЯМжя╕П **р▓╣р▓╡р▓╛р▓ор▓╛р▓и** - р▓╣р▓╡р▓╛р▓ор▓╛р▓и р▓Жр▓зр▓╛р▓░р▓┐р▓д р▓мр│Жр▓│р│Ж р▓╕р▓▓р▓╣р│Ж
ЁЯТ░ **р▓ор▓╛р▓░р│Бр▓Хр▓Яр│Нр▓Яр│Ж р▓мр│Жр▓▓р│Жр▓Чр▓│р│Б** - р▓пр▓╛р▓╡р▓╛р▓Ч р▓Ор▓▓р│Нр▓▓р▓┐ р▓ор▓╛р▓░р▓╛р▓Я р▓ор▓╛р▓бр▓мр│Зр▓Хр│Б
ЁЯПЫя╕П **р▓╕р▓░р│Нр▓Хр▓╛р▓░р▓┐ р▓пр│Лр▓Ьр▓ир│Жр▓Чр▓│р│Б** - PM-KISAN, р▓╡р▓┐р▓ор│Ж, р▓╕р▓мр│Нр▓╕р▓┐р▓бр▓┐
ЁЯзСтАНЁЯМ╛ **р▓Ьр│Ир▓╡р▓┐р▓Х р▓Хр│Гр▓╖р▓┐** - р▓ир│Ир▓╕р▓░р│Нр▓Чр▓┐р▓Х р▓╡р▓┐р▓зр▓╛р▓ир▓Чр▓│р▓┐р▓Вр▓ж р▓Хр│Гр▓╖р▓┐

р▓ир▓ир│Нр▓ир▓ир│Нр▓ир│Б р▓пр▓╛р▓╡р│Бр▓жр│З р▓Хр│Гр▓╖р▓┐ р▓╕р▓Вр▓мр▓Вр▓зр▓┐р▓д р▓кр│Нр▓░р▓╢р│Нр▓ир│Ж р▓Хр│Зр▓│р▓┐! р▓ир▓╛р▓ир│Б р▓нр▓╛р▓░р▓др│Ар▓п р▓░р│Ир▓др▓░р▓┐р▓Чр▓╛р▓Чр▓┐ р▓╡р▓┐р▓╢р│Зр▓╖р▓╡р▓╛р▓Чр▓┐ р▓др▓пр▓╛р▓░р▓┐р▓╕р▓▓р│Нр▓кр▓Яр│Нр▓Яр▓┐р▓жр│Нр▓жр│Зр▓ир│Жред ЁЯЪЬЁЯМ╛`,

            ml: `р┤ир┤ор┤╕р╡Нр┤Хр┤╛р┤░р┤В! ЁЯЩП р┤Юр┤╛р╡╗ р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж Smart Krishi Sahayak AI р┤Жр┤гр╡Нред

р┤И р┤╡р┤┐р┤╖р┤пр┤Щр╡Нр┤Щр┤│р┤┐р╡╜ р┤Ор┤ир┤┐р┤Хр╡Нр┤Хр╡Н р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Ж р┤╕р┤╣р┤╛р┤пр┤┐р┤Хр╡Нр┤Хр┤╛р╡╗ р┤Хр┤┤р┤┐р┤пр╡Бр┤В:

ЁЯМ▒ **р┤╡р┤┐р┤│ р┤кр┤░р┤┐р┤кр┤╛р┤▓р┤ир┤В** - р┤╡р┤┐р┤др┤пр╡╜ р┤ор╡Бр┤др╡╜ р┤╡р┤┐р┤│р┤╡р╡Жр┤Яр╡Бр┤кр╡Нр┤кр╡Н р┤╡р┤░р╡Ж р┤Ор┤▓р╡Нр┤▓р┤╛р┤В
ЁЯРЫ **р┤Хр╡Ар┤Яр┤Щр╡Нр┤Щр┤│р╡Бр┤В р┤░р╡Лр┤Чр┤Щр╡Нр┤Щр┤│р╡Бр┤В р┤ир┤┐р┤пр┤ир╡Нр┤др╡Нр┤░р┤гр┤В** - р┤кр╡Нр┤░р┤Хр╡Гр┤др┤┐р┤жр┤др╡Нр┤др┤╡р╡Бр┤В р┤░р┤╛р┤╕р┤кр┤░р┤╡р╡Бр┤ор┤╛р┤п р┤░р┤гр╡Нр┤Яр╡Н р┤ор┤╛р╡╝р┤Чр┤Щр╡Нр┤Щр┤│р╡Бр┤В
ЁЯзк **р┤ор┤гр╡Нр┤гр┤┐р┤ир╡Нр┤▒р╡Ж р┤Жр┤░р╡Лр┤Чр╡Нр┤пр┤В** - р┤ор┤гр╡Нр┤гр╡Н р┤кр┤░р┤┐р┤╢р╡Лр┤зр┤и, р┤╡р┤│ р┤Йр┤кр┤жр╡Зр┤╢р┤В
ЁЯТз **р┤Ьр┤▓р┤╕р╡Зр┤Ър┤ир┤В** - р┤Ьр┤▓р┤В р┤▓р┤╛р┤нр┤┐р┤Хр╡Нр┤Хр┤╛р┤ир╡Бр┤│р╡Нр┤│ р┤╡р┤┤р┤┐р┤Хр╡╛
ЁЯМжя╕П **р┤Хр┤╛р┤▓р┤╛р┤╡р┤╕р╡Нр┤е** - р┤Хр┤╛р┤▓р┤╛р┤╡р┤╕р╡Нр┤е р┤Ер┤Яр┤┐р┤╕р╡Нр┤ер┤╛р┤ир┤ор┤╛р┤Хр╡Нр┤Хр┤┐р┤пр╡Бр┤│р╡Нр┤│ р┤╡р┤┐р┤│ р┤Йр┤кр┤жр╡Зр┤╢р┤В
ЁЯТ░ **р┤ор┤╛р╡╝р┤Хр╡Нр┤Хр┤▒р╡Нр┤▒р╡Н р┤╡р┤┐р┤▓** - р┤Ор┤кр╡Нр┤кр╡Лр╡╛ р┤Ор┤╡р┤┐р┤Яр╡Ж р┤╡р┤┐р╡╜р┤Хр╡Нр┤Хр┤гр┤В
ЁЯПЫя╕П **р┤╕р╡╝р┤Хр╡Нр┤Хр┤╛р╡╝ р┤кр┤жр╡Нр┤зр┤др┤┐р┤Хр╡╛** - PM-KISAN, р┤Зр╡╗р┤╖р╡Бр┤▒р╡╗р┤╕р╡Н, р┤╕р┤мр╡Нр┤╕р┤┐р┤бр┤┐
ЁЯзСтАНЁЯМ╛ **р┤Ьр╡Ир┤╡р┤Хр╡Гр┤╖р┤┐** - р┤кр╡Нр┤░р┤Хр╡Гр┤др┤┐р┤жр┤др╡Нр┤д р┤░р╡Ар┤др┤┐р┤Хр┤│р┤┐р╡╜ р┤Хр╡Гр┤╖р┤┐

р┤Ор┤ир╡Нр┤ир╡Лр┤Яр╡Н р┤Пр┤др╡Жр┤Щр╡Нр┤Хр┤┐р┤▓р╡Бр┤В р┤Хр╡Гр┤╖р┤┐ р┤╕р┤Вр┤мр┤ир╡Нр┤зр┤ор┤╛р┤п р┤Ър╡Лр┤жр╡Нр┤пр┤В р┤Ър╡Лр┤жр┤┐р┤Хр╡Нр┤Хр╡В! р┤Юр┤╛р╡╗ р┤Зр┤ир╡Нр┤др╡Нр┤пр╡╗ р┤Хр╡╝р┤╖р┤Хр╡╝р┤Хр╡Нр┤Хр┤╛р┤пр┤┐ р┤кр╡Нр┤░р┤др╡Нр┤пр╡Зр┤Хр┤В р┤░р╡Вр┤кр┤Хр╡╜р┤кр╡Нр┤кр┤и р┤Ър╡Жр┤пр╡Нр┤др┤┐р┤Яр╡Нр┤Яр╡Бр┤│р╡Нр┤│р┤др┤╛р┤гр╡Нред ЁЯЪЬЁЯМ╛`,

            or: `рмирморм╕рнНрмХрм╛рм░! ЁЯЩП рморнБрмБ рмЖрмкрмгрмЩрнНрмХрм░ Smart Krishi Sahayak AIред

рмПрм╣рм┐ рммрм┐рм╖рнЯрмЧрнБрмбрм╝рм┐рмХрм░рнЗ рморнБрмБ рмЖрмкрмгрмЩрнНрмХрнБ рм╕рм╛рм╣рм╛рмпрнНрнЯ рмХрм░рм┐рмкрм╛рм░рм┐рммрм┐:

ЁЯМ▒ **рмлрм╕рм▓ рмкрм░рм┐рмЪрм╛рм│рмирм╛** - рммрнБрмгрм╛рмарм╛рм░рнБ рмЕрморм│ рмкрм░рнНрмпрнНрнЯрмирнНрмд рм╕рммрнБрмХрм┐рмЫрм┐
ЁЯРЫ **рмХрнАрмЯ рмУ рм░рнЛрмЧ рмирм┐рнЯрмирнНрмдрнНрм░рмг** - рмкрнНрм░рм╛рмХрнГрмдрм┐рмХ рмУ рм░рм╛рм╕рм╛рнЯрмирм┐рмХ рмЙрмнрнЯ рмЙрмкрм╛рнЯ
ЁЯзк **рморм╛рмЯрм┐рм░ рм╕рнНрн▒рм╛рм╕рнНрмернНрнЯ** - рморм╛рмЯрм┐ рмкрм░рнАрмХрнНрм╖рм╛ рмУ рм╕рм╛рм░ рмкрм░рм╛рморм░рнНрм╢
ЁЯТз **рмЬрм│рм╕рнЗрмЪрми** - рмкрм╛рмгрм┐ рм╕рмЮрнНрмЪрнЯ рмкрмжрнНрмзрмдрм┐
ЁЯМжя╕П **рмкрм╛рмЧ** - рмкрм╛рмЧ рмЕрмирнБрмпрм╛рнЯрнА рмлрм╕рм▓ рмкрм░рм╛рморм░рнНрм╢
ЁЯТ░ **рммрмЬрм╛рм░ рмжрм░** - рмХрнЗрммрнЗ рмХрнЗрмЙрмБрмарм╛рм░рнЗ рммрм┐рмХрнНрм░рнЯ рмХрм░рм┐рммрнЗ
ЁЯПЫя╕П **рм╕рм░рмХрм╛рм░рнА рмпрнЛрмЬрмирм╛** - PM-KISAN, рммрнАрморм╛, рм╕рммрм╕рм┐рмбрм┐
ЁЯзСтАНЁЯМ╛ **рмЬрнИрммрм┐рмХ рмЪрм╛рм╖** - рмкрнНрм░рм╛рмХрнГрмдрм┐рмХ рмкрмжрнНрмзрмдрм┐рм░рнЗ рмЪрм╛рм╖

рморнЛрмдрнЗ рмпрнЗрмХрнМрмгрм╕рм┐ рмХрнГрм╖рм┐ рм╕рморнНрммрмирнНрмзрнАрнЯ рмкрнНрм░рм╢рнНрми рмкрмЪрм╛рм░рмирнНрмдрнБ! рморнБрмБ рмнрм╛рм░рмдрнАрнЯ рмХрнГрм╖рмХрмЩрнНрмХ рмкрм╛рмЗрмБ рммрм┐рм╢рнЗрм╖рмнрм╛рммрнЗ рмдрм┐рмЖрм░рм┐ред ЁЯЪЬЁЯМ╛`,

            ur: `╪в╪п╪з╪и! ЁЯЩП ┘Е█М┌║ ╪в┘╛ ┌й╪з Smart Krishi Sahayak AI █Б┘И┌║█Ф

┘Е█М┌║ ╪з┘Ж ┌Ж█М╪▓┘И┌║ ┘Е█М┌║ ╪в┘╛ ┌й█М ┘Е╪п╪п ┌й╪▒ ╪│┌й╪к╪з █Б┘И┌║:

ЁЯМ▒ **┘Б╪╡┘Д ┌й╪з ╪з┘Ж╪к╪╕╪з┘Е** - ╪и┘И╪з╪ж█М ╪│█Т ┘Б╪╡┘Д ┌й█М ┌й┘╣╪з╪ж█М ╪к┌й ╪│╪и ┌й┌Ж┌╛
ЁЯРЫ **┌й█М┌С█Т ╪з┘И╪▒ ╪и█М┘Е╪з╪▒█М ┌й╪з ┌й┘Ж┘╣╪▒┘И┘Д** - ┘В╪п╪▒╪к█М ╪з┘И╪▒ ┌й█М┘Е█М╪з╪ж█М ╪п┘И┘Ж┘И┌║ ╪╖╪▒█М┘В█Т
ЁЯзк **┘Е┘╣█М ┌й█М ╪╡╪н╪к** - ┘Е┘╣█М ┌й╪з ┘╣█М╪│┘╣ ╪з┘И╪▒ ┌й┌╛╪з╪п ┌й█М ╪к╪м┘И█М╪▓
ЁЯТз **╪в╪и┘╛╪з╪┤█М** - ┘╛╪з┘Ж█М ╪и┌Ж╪з┘Ж█Т ┌й█Т ╪╖╪▒█М┘В█Т
ЁЯМжя╕П **┘Е┘И╪│┘Е** - ┘Е┘И╪│┘Е ┌й█Т ┘Е╪╖╪з╪и┘В ┘Б╪╡┘Д ┌й█М ╪к╪м┘И█М╪▓
ЁЯТ░ **┘Е╪з╪▒┌й█М┘╣ ┌й█Т ╪▒█М┘╣** - ┌й╪и ╪з┘И╪▒ ┌й█Б╪з┌║ ╪и█М┌Ж┘Ж╪з █Б█Т
ЁЯПЫя╕П **╪│╪▒┌й╪з╪▒█М ╪з╪│┌й█М┘Е╪▓** - PM-KISAN╪М ╪з┘Ж╪┤┘И╪▒┘Ж╪│╪М ╪│╪и╪│┌И█М
ЁЯзСтАНЁЯМ╛ **╪в╪▒┌п█М┘Ж┌й ┌й┌╛█М╪к█М** - ┘В╪п╪▒╪к█М ╪╖╪▒█М┘В┘И┌║ ╪│█Т ┌й┌╛█М╪к█М

┘Е╪м┌╛ ╪│█Т ┌й┘И╪ж█М ╪и┌╛█М ╪▓╪▒╪з╪╣╪к ╪│█Т ┘Е╪к╪╣┘Д┘В ╪│┘И╪з┘Д ┘╛┘И┌Ж┌╛█М┌║! ┘Е█М┌║ ╪о╪з╪╡ ╪╖┘И╪▒ ┘╛╪▒ █Б┘Ж╪п┘И╪│╪к╪з┘Ж█М ┌й╪│╪з┘Ж┘И┌║ ┌й█Т ┘Д█М█Т ╪и┘Ж╪з█М╪з ┌п█М╪з █Б┘И┌║█Ф ЁЯЪЬЁЯМ╛`,

            en: `Hello! ЁЯЩП I'm your Smart Krishi Sahayak AI.

I can help you with:

ЁЯМ▒ **Crop Management** - From sowing to harvesting
ЁЯРЫ **Pest & Disease Control** - Natural and chemical solutions  
ЁЯзк **Soil Health** - Soil testing and fertilizer advice
ЁЯТз **Irrigation** - Water saving techniques
ЁЯМжя╕П **Weather** - Weather-based crop advice
ЁЯТ░ **Market Prices** - When and where to sell
ЁЯПЫя╕П **Government Schemes** - PM-KISAN, insurance, subsidies
ЁЯзСтАНЁЯМ╛ **Organic Farming** - Natural farming methods

Ask me any agriculture-related question! I'm specially designed for Indian farmers. ЁЯЪЬЁЯМ╛`
          };
          
          return messages[lang] || messages.en;
        };
        
        const welcomeMessage = getWelcomeMessage(language);

        return {
          text: welcomeMessage,
          category: 'general',
          confidence: 1.0,
          suggestions: this.generateSuggestions('cropManagement', language)
        };
      }

      // Create the full prompt
      const fullPrompt = language === 'hi' 
        ? `рдЖрдк рдПрдХ рдХреГрд╖рд┐ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╣реИрдВред рднрд╛рд░рддреАрдп рдХрд┐рд╕рд╛рдиреЛрдВ рдХреЛ рд╕рд░рд▓ рдФрд░ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕рд▓рд╛рд╣ рджреЗрдВред

${userLocation ? `рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рд╕реНрдерд╛рди: ${userLocation.district}, ${userLocation.state}` : ''}

рд╕рд╡рд╛рд▓: ${query}

рдХреГрдкрдпрд╛ рд╣рд┐рдВрджреА рдореЗрдВ рд╡рд┐рд╕реНрддреГрдд рдЬрд╡рд╛рдм рджреЗрдВред`
        : `You are an agricultural expert. Provide simple and practical advice to Indian farmers.

${userLocation ? `User location: ${userLocation.district}, ${userLocation.state}` : ''}

Question: ${query}

Please provide a detailed answer in English.`;

      // Try with retry logic and fallback model
      const responseText = await this.generateWithRetry(fullPrompt, 3);

      // Add to conversation history for context
      this.conversationHistory.push({
        role: 'user',
        parts: [{ text: query }]
      });
      this.conversationHistory.push({
        role: 'model',
        parts: [{ text: responseText }]
      });

      // Categorize the query
      const category = this.categorizeQuery(query, language);
      
      // Generate suggestions
      const suggestions = this.generateSuggestions(category, language);

      return {
        text: responseText,
        category,
        confidence: 0.9,
        suggestions
      };

    } catch (error) {
      console.error('Gemini AI Error:', error);
      
      // Check if it's a 503 (overloaded) error
      const isOverloadedError = error instanceof Error && 
        (error.message.includes('503') || error.message.includes('overloaded'));
      
      // Enhanced fallback messages for all supported languages
      const getFallbackMessage = (lang: string, isOverloaded: boolean = false) => {
        const messages: Record<string, string> = {
          hi: isOverloaded 
            ? `рдорд╛рдл рдХрд░реЗрдВ, AI рд╕реЗрд╡рд╛ рдЕрднреА рдмрд╣реБрдд рд╡реНрдпрд╕реНрдд рд╣реИред ЁЯЪА

ЁЯФД **рдХреБрдЫ рдорд┐рдирдЯ рдмрд╛рдж рдлрд┐рд░ рд╕реЗ рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ**

рдЗрд╕ рдмреАрдЪ рдЖрдк рдЗрди рд╡рд┐рд╖рдпреЛрдВ рдкрд░ рдкреНрд░рд╢реНрди рддреИрдпрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
тАв ЁЯМ╛ рдлрд╕рд▓ рдХреА рдмреБрд╡рд╛рдИ рдФрд░ рджреЗрдЦрднрд╛рд▓
тАв ЁЯРЫ рдХреАрдЯ рдФрд░ рд░реЛрдЧ рдирд┐рдпрдВрддреНрд░рдг
тАв ЁЯзк рдорд┐рдЯреНрдЯреА рдФрд░ рдЙрд░реНрд╡рд░рдХ рдкрд░реАрдХреНрд╖рдг
тАв ЁЯТз рд╕рд┐рдВрдЪрд╛рдИ рдФрд░ рдкрд╛рдиреА рдкреНрд░рдмрдВрдзрди
тАв ЁЯМжя╕П рдореМрд╕рдо рдХрд╛ рдлрд╕рд▓ рдкрд░ рдкреНрд░рднрд╛рд╡
тАв ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛рдПрдВ рдФрд░ рд╕рдмреНрд╕рд┐рдбреА

рдЖрдкрдХреЗ рдзреИрд░реНрдп рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж! ЁЯЩП`
            : `рдорд╛рдл рдХрд░реЗрдВ, AI рд╕реЗрд╡рд╛ рдореЗрдВ рдЕрднреА рддрдХрдиреАрдХреА рд╕рдорд╕реНрдпрд╛ рд╣реИред ЁЯШФ

рдХреГрдкрдпрд╛ рдХреБрдЫ рджреЗрд░ рдмрд╛рдж рдлрд┐рд░ рд╕реЗ рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред`,
          
          mr: isOverloaded
            ? `рдорд╛рдл рдХрд░рд╛, AI рд╕реЗрд╡рд╛ рд╕рдзреНрдпрд╛ рдЦреВрдк рд╡реНрдпрд╕реНрдд рдЖрд╣реЗред я┐╜

ЁЯФД **рдХреГрдкрдпрд╛ рдХрд╛рд╣реА рдорд┐рдирд┐рдЯрд╛рдВрдиреА рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛**

рджрд░рдореНрдпрд╛рди рддреБрдореНрд╣реА рдпрд╛ рд╡рд┐рд╖рдпрд╛рдВрд╡рд░ рдкреНрд░рд╢реНрди рддрдпрд╛рд░ рдХрд░реВ рд╢рдХрддрд╛:
тАв ЁЯМ╛ рдкреАрдХ рд▓рд╛рдЧрд╡рдб рдЖрдгрд┐ рдХрд╛рд│рдЬреА
тАв ЁЯРЫ рдХреАрдЯрдХ рдЖрдгрд┐ рд░реЛрдЧ рдирд┐рдпрдВрддреНрд░рдг
тАв ЁЯзк рдорд╛рддреА рдЖрдгрд┐ рдЦрдд рдЪрд╛рдЪрдгреА
тАв ЁЯТз рд╕рд┐рдВрдЪрди рдЖрдгрд┐ рдкрд╛рдгреА рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди
тАв ЁЯМжя╕П рд╣рд╡рд╛рдорд╛рдирд╛рдЪрд╛ рдкрд┐рдХрд╛рдВрд╡рд░ рдкрд░рд┐рдгрд╛рдо
тАв ЁЯПЫя╕П рд╕рд░рдХрд╛рд░реА рдпреЛрдЬрдирд╛ рдЖрдгрд┐ рдЕрдиреБрджрд╛рди

рдзреИрд░реНрдпрд╛рдмрджреНрджрд▓ рдзрдиреНрдпрд╡рд╛рдж! ЁЯЩП`
            : `рдорд╛рдл рдХрд░рд╛, AI рд╕реЗрд╡реЗрдд рд╕рдзреНрдпрд╛ рддрд╛рдВрддреНрд░рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдЖрд╣реЗред ЁЯШФ

рдХреГрдкрдпрд╛ рдХрд╛рд╣реА рд╡реЗрд│рд╛рдиреА рдкреБрдиреНрд╣рд╛ рдкреНрд░рдпрддреНрди рдХрд░рд╛ред`,
          
          gu: isOverloaded
            ? `ркорк╛ркл ркХрк░рк╢рлЛ, AI рк╕рлЗрк╡рк╛ рк╣рк╛рк▓ркорк╛ркВ ркЦрлВркм рк╡рлНркпрк╕рлНркд ркЫрлЗред ЁЯЪА

ЁЯФД **ркХрлГрккрк╛ ркХрк░рлАркирлЗ ркерлЛркбрлА ркорк┐ркирк┐ркЯ рккркЫрлА рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛ**

ркЖ ркжрк░ркорк┐ркпрк╛рки ркдркорлЗ ркЖ рк╡рк┐рк╖ркпрлЛ рккрк░ рккрлНрк░рк╢рлНркирлЛ ркдрлИркпрк╛рк░ ркХрк░рлА рк╢ркХрлЛ ркЫрлЛ:
тАв ЁЯМ╛ рккрк╛ркХ рк╡рк╛рк╡рлЗркдрк░ ркЕркирлЗ рк╕ркВркнрк╛рк│
тАв ЁЯРЫ ркЬркВркдрлБ ркЕркирлЗ рк░рлЛркЧ ркирк┐ркпркВркдрлНрк░ркг
тАв ЁЯзк ркорк╛ркЯрлА ркЕркирлЗ ркЦрк╛ркдрк░ рккрк░рлАркХрлНрк╖ркг
тАв ЁЯТз рк╕рк┐ркВркЪрк╛ркИ ркЕркирлЗ рккрк╛ркгрлА рк╡рлНркпрк╡рк╕рлНркерк╛рккрки
тАв ЁЯМжя╕П рк╣рк╡рк╛ркорк╛ркиркирлА рккрк╛ркХ рккрк░ ркЕрк╕рк░
тАв ЁЯПЫя╕П рк╕рк░ркХрк╛рк░рлА ркпрлЛркЬркирк╛ркУ ркЕркирлЗ рк╕ркмрк╕рк┐ркбрлА

ркдркорк╛рк░рк╛ ркзрлИрк░рлНркп ркорк╛ркЯрлЗ ркЖркнрк╛рк░! ЁЯЩП`
            : `ркорк╛ркл ркХрк░рк╢рлЛ, рк╣рк╛рк▓ркорк╛ркВ AI рк╕рлЗрк╡рк╛ркорк╛ркВ ркдркХркирлАркХрлА рк╕ркорк╕рлНркпрк╛ ркЫрлЗред ЁЯШФ

ркХрлГрккрк╛ ркХрк░рлАркирлЗ ркерлЛркбрлА рк╡рк╛рк░ рккркЫрлА рклрк░рлА рккрлНрк░ркпрк╛рк╕ ркХрк░рлЛред`,
          
          ta: isOverloaded
            ? `рооройрпНройро┐роХрпНроХро╡рпБроорпН, AI роЪрпЗро╡рпИ родро▒рпНрокрпЛродрпБ рооро┐роХро╡рпБроорпН рокро┐ро╕ро┐ропро╛роХ роЙро│рпНро│родрпБред ЁЯЪА

ЁЯФД **роЪро┐ро▓ роиро┐рооро┐роЯроЩрпНроХро│рпН роХро┤ро┐родрпНродрпБ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН**

роЗродро▒рпНроХро┐роЯрпИропро┐ро▓рпН роЗроирпНрод родро▓рпИрокрпНрокрпБроХро│ро┐ро▓рпН роХрпЗро│рпНро╡ро┐роХро│рпИ родропро╛ро░рпН роЪрпЖропрпНропро▓ро╛роорпН:
тАв ЁЯМ╛ рокропро┐ро░рпН роироЯро╡рпБ рооро▒рпНро▒рпБроорпН рокро░ро╛рооро░ро┐рокрпНрокрпБ
тАв ЁЯРЫ рокрпВроЪрпНроЪро┐ рооро▒рпНро▒рпБроорпН роирпЛропрпН роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБ
тАв ЁЯзк роорогрпН рооро▒рпНро▒рпБроорпН роЙро░роорпН роЪрпЛродройрпИ
тАв ЁЯТз роирпАро░рпНрокрпНрокро╛роЪройроорпН рооро▒рпНро▒рпБроорпН роирпАро░рпН роорпЗро▓ро╛рогрпНроорпИ
тАв ЁЯМжя╕П рокропро┐ро░рпНроХро│ро┐ро▓рпН роХро╛ро▓роиро┐ро▓рпИ родро╛роХрпНроХроорпН
тАв ЁЯПЫя╕П роЕро░роЪрпБ родро┐роЯрпНроЯроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН рооро╛ройро┐ропроЩрпНроХро│рпН

роЙроЩрпНроХро│рпН рокрпКро▒рпБроорпИроХрпНроХрпБ роиройрпНро▒ро┐! ЁЯЩП`
            : `рооройрпНройро┐роХрпНроХро╡рпБроорпН, родро▒рпНрокрпЛродрпБ AI роЪрпЗро╡рпИропро┐ро▓рпН родрпКро┤ро┐ро▓рпНроирпБроЯрпНрок рокро┐ро░роЪрпНроЪройрпИ роЙро│рпНро│родрпБред ЁЯШФ

роЪро┐ро▒ро┐родрпБ роирпЗро░роорпН роХро┤ро┐родрпНродрпБ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпНред`,
          
          te: isOverloaded
            ? `р░Хр▒Нр░╖р░ор░┐р░Вр░Ър░Вр░бр░┐, AI р░╕р▒Зр░╡ р░кр▒Нр░░р░╕р▒Нр░др▒Бр░др░В р░Ър░╛р░▓р░╛ р░мр░┐р░Ьр▒Ар░Чр░╛ р░Йр░Вр░жр░┐ред ЁЯЪА

ЁЯФД **р░жр░пр░Ър▒Зр░╕р░┐ р░Хр▒Кр░ир▒Нр░ир░┐ р░ир░┐р░ор░┐р░╖р░╛р░▓ р░др░░р▒Нр░╡р░╛р░д р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐**

р░И р░ор░зр▒Нр░пр░▓р▒Л р░ор▒Ар░░р▒Б р░И р░Ер░Вр░╢р░╛р░▓р░кр▒И р░кр▒Нр░░р░╢р▒Нр░ир░▓р▒Б р░╕р░┐р░жр▒Нр░зр░В р░Ър▒Зр░╕р▒Бр░Хр▒Лр░╡р░Ър▒Нр░Ър▒Б:
тАв ЁЯМ╛ р░кр░Вр░Я р░ир░╛р░Яр░бр░В р░ор░░р░┐р░пр▒Б р░╕р░Вр░░р░Хр▒Нр░╖р░г
тАв ЁЯРЫ р░кр▒Бр░░р▒Бр░Чр▒Бр░▓ р░ор░░р░┐р░пр▒Б р░╡р▒Нр░пр░╛р░зр▒Бр░▓ р░ир░┐р░пр░Вр░др▒Нр░░р░г
тАв ЁЯзк р░ор░Яр▒Нр░Яр░┐ р░ор░░р░┐р░пр▒Б р░Ор░░р▒Бр░╡р▒Бр░▓ р░кр░░р▒Ар░Хр▒Нр░╖
тАв ЁЯТз р░ир▒Ар░Яр░┐р░кр░╛р░░р▒Бр░жр░▓ р░ор░░р░┐р░пр▒Б р░ир▒Ар░Яр░┐ р░ир░┐р░░р▒Нр░╡р░╣р░г
тАв ЁЯМжя╕П р░кр░Вр░Яр░▓р░кр▒И р░╡р░╛р░др░╛р░╡р░░р░г р░кр▒Нр░░р░нр░╛р░╡р░В
тАв ЁЯПЫя╕П р░кр▒Нр░░р░нр▒Бр░др▒Нр░╡ р░кр░ер░Хр░╛р░▓р▒Б р░ор░░р░┐р░пр▒Б р░╕р░мр▒Нр░╕р░┐р░бр▒Ар░▓р▒Б

р░ор▒А р░╕р░╣р░ир░╛р░ир░┐р░Хр░┐ р░зр░ир▒Нр░пр░╡р░╛р░жр░╛р░▓р▒Б! ЁЯЩП`
            : `р░Хр▒Нр░╖р░ор░┐р░Вр░Ър░Вр░бр░┐, р░кр▒Нр░░р░╕р▒Нр░др▒Бр░др░В AI р░╕р▒Зр░╡р░▓р▒Л р░╕р░╛р░Вр░Хр▒Зр░др░┐р░Х р░╕р░ор░╕р▒Нр░п р░Йр░Вр░жр░┐ред ЁЯШФ

р░жр░пр░Ър▒Зр░╕р░┐ р░Хр▒Кр░Вр░д р░╕р░ор░пр░В р░др░░р▒Нр░╡р░╛р░д р░ор░│р▒Нр░▓р▒А р░кр▒Нр░░р░пр░др▒Нр░ир░┐р░Вр░Ър░Вр░бр░┐ред`,
          
          pa: isOverloaded
            ? `риори╛рилри╝ риХри░риири╛, AI ри╕рйЗри╡ри╛ ри╣рйБриг римри╣рйБрид ри░рйБрй▒риЭрйА ри╣рйЛриИ ри╣рйИред ЁЯЪА

ЁЯФД **риХри┐ри░рикри╛ риХри░риХрйЗ риХрйБриЭ риори┐рй░риЯри╛риВ римри╛риЕриж риорйБрйЬ риХрйЛри╕ри╝ри┐ри╕ри╝ риХри░рйЛ**

риЗри╕ рижрйМри░ри╛рии ридрйБри╕рйАриВ риЗриирйНри╣ри╛риВ ри╡ри┐ри╕ри╝ри┐риЖриВ 'ридрйЗ ри╕ри╡ри╛ри▓ ридри┐риЖри░ риХри░ ри╕риХрижрйЗ ри╣рйЛ:
тАв ЁЯМ╛ рилри╕ри▓ ри▓риЧри╛риЙригри╛ риЕридрйЗ рижрйЗриЦринри╛ри▓
тАв ЁЯРЫ риХрйАрйЬрйЗ риЕридрйЗ римри┐риори╛ри░рйА риири┐рипрй░ридри░риг
тАв ЁЯзк риори┐рй▒риЯрйА риЕридрйЗ риЦри╛риж риЬри╛риВриЪ
тАв ЁЯТз ри╕ри┐рй░риЪри╛риИ риЕридрйЗ рикри╛ригрйА рикрйНри░римрй░ризрии
тАв ЁЯМжя╕П рилри╕ри▓ри╛риВ 'ридрйЗ риорйМри╕рио рижри╛ рикрйНри░ринри╛ри╡
тАв ЁЯПЫя╕П ри╕ри░риХри╛ри░рйА рипрйЛриЬриири╛ри╡ри╛риВ риЕридрйЗ ри╕римри╕ри┐рибрйА

ридрйБри╣ри╛рибрйЗ ри╕римри░ ри▓риИ ризрй░риири╡ри╛риж! ЁЯЩП`
            : `риори╛рилри╝ риХри░риири╛, ри╣рйБриг AI ри╕рйЗри╡ри╛ ри╡ри┐рй▒риЪ ридриХриирйАриХрйА ри╕риорй▒ри╕ри┐риЖ ри╣рйИред ЁЯШФ

риХри┐ри░рикри╛ риХри░риХрйЗ риХрйБриЭ рижрйЗри░ римри╛риЕриж риорйБрйЬ риХрйЛри╕ри╝ри┐ри╕ри╝ риХри░рйЛред`,
          
          bn: isOverloaded
            ? `ржжрзБржГржЦрж┐ржд, AI рж╕рзЗржмрж╛ ржПржЦржи ржЦрзБржм ржмрзНржпрж╕рзНрждред ЁЯЪА

ЁЯФД **ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржХржпрж╝рзЗржХ ржорж┐ржирж┐ржЯ ржкрж░ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржи**

ржПржЗ рж╕ржоржпрж╝рзЗ ржЖржкржирж┐ ржПржЗ ржмрж┐рж╖ржпрж╝ржЧрзБрж▓рж┐рждрзЗ ржкрзНрж░рж╢рзНржи ржкрзНрж░рж╕рзНрждрзБржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:
тАв ЁЯМ╛ ржлрж╕рж▓ рж░рзЛржкржг ржПржмржВ ржпрждрзНржи
тАв ЁЯРЫ ржкрзЛржХрж╛ржорж╛ржХржбрж╝ ржПржмржВ рж░рзЛржЧ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг
тАв ЁЯзк ржорж╛ржЯрж┐ ржПржмржВ рж╕рж╛рж░ ржкрж░рзАржХрзНрж╖рж╛
тАв ЁЯТз рж╕рзЗржЪ ржПржмржВ ржкрж╛ржирж┐ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛
тАв ЁЯМжя╕П ржлрж╕рж▓рзЗ ржЖржмрж╣рж╛ржУржпрж╝рж╛рж░ ржкрзНрж░ржнрж╛ржм
тАв ЁЯПЫя╕П рж╕рж░ржХрж╛рж░рж┐ ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржПржмржВ ржнрж░рзНрждрзБржХрж┐

ржЖржкржирж╛рж░ ржзрзИрж░рзНржпрзЗрж░ ржЬржирзНржп ржзржирзНржпржмрж╛ржж! ЁЯЩП`
            : `ржжрзБржГржЦрж┐ржд, ржПржЦржи AI рж╕рзЗржмрж╛ржпрж╝ ржкрзНрж░ржпрзБржХрзНрждрж┐ржЧржд рж╕ржорж╕рзНржпрж╛ рж░ржпрж╝рзЗржЫрзЗред ЁЯШФ

ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржХрж┐ржЫрзБржХрзНрж╖ржг ржкрж░ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред`,
          
          kn: isOverloaded
            ? `р▓Хр│Нр▓╖р▓ор▓┐р▓╕р▓┐, AI р▓╕р│Зр▓╡р│Ж р▓Ир▓Ч р▓др│Бр▓Вр▓мр▓╛ р▓мр│Нр▓пр│Бр▓╕р▓┐р▓пр▓╛р▓Чр▓┐р▓жр│Жред ЁЯЪА

ЁЯФД **р▓жр▓пр▓╡р▓┐р▓Яр│Нр▓Яр│Б р▓Хр│Жр▓▓р▓╡р│Б р▓ир▓┐р▓ор▓┐р▓╖р▓Чр▓│ р▓ир▓Вр▓др▓░ р▓ор▓др│Нр▓др│Ж р▓кр│Нр▓░р▓пр▓др│Нр▓ир▓┐р▓╕р▓┐**

р▓И р▓ор▓зр│Нр▓пр│Ж р▓ир│Ар▓╡р│Б р▓И р▓╡р▓┐р▓╖р▓пр▓Чр▓│р▓▓р│Нр▓▓р▓┐ р▓кр│Нр▓░р▓╢р│Нр▓ир│Жр▓Чр▓│р▓ир│Нр▓ир│Б р▓др▓пр▓╛р▓░р▓┐р▓╕р▓мр▓╣р│Бр▓жр│Б:
тАв ЁЯМ╛ р▓мр│Жр▓│р│Ж р▓ир│Жр▓бр│Бр▓╡р▓┐р▓Хр│Ж р▓ор▓др│Нр▓др│Б р▓Жр▓░р│Ир▓Хр│Ж
тАв ЁЯРЫ р▓Хр│Ар▓Я р▓ор▓др│Нр▓др│Б р▓░р│Лр▓Ч р▓ир▓┐р▓пр▓Вр▓др│Нр▓░р▓г
тАв ЁЯзк р▓ор▓гр│Нр▓гр│Б р▓ор▓др│Нр▓др│Б р▓Чр│Кр▓мр│Нр▓мр▓░ р▓кр▓░р│Ар▓Хр│Нр▓╖р│Ж
тАв ЁЯТз р▓ир│Ар▓░р▓╛р▓╡р▓░р▓┐ р▓ор▓др│Нр▓др│Б р▓ир│Ар▓░р│Б р▓ир▓┐р▓░р│Нр▓╡р▓╣р▓гр│Ж
тАв ЁЯМжя╕П р▓мр│Жр▓│р│Жр▓Чр▓│ р▓ор│Зр▓▓р│Ж р▓╣р▓╡р▓╛р▓ор▓╛р▓и р▓кр│Нр▓░р▓нр▓╛р▓╡
тАв ЁЯПЫя╕П р▓╕р▓░р│Нр▓Хр▓╛р▓░р▓┐ р▓пр│Лр▓Ьр▓ир│Жр▓Чр▓│р│Б р▓ор▓др│Нр▓др│Б р▓╕р▓мр│Нр▓╕р▓┐р▓бр▓┐

р▓ир▓┐р▓ор│Нр▓о р▓др▓╛р▓│р│Нр▓ор│Жр▓Чр│Ж р▓зр▓ир│Нр▓пр▓╡р▓╛р▓жр▓Чр▓│р│Б! ЁЯЩП`
            : `р▓Хр│Нр▓╖р▓ор▓┐р▓╕р▓┐, р▓Ир▓Ч AI р▓╕р│Зр▓╡р│Жр▓пр▓▓р│Нр▓▓р▓┐ р▓др▓╛р▓Вр▓др│Нр▓░р▓┐р▓Х р▓╕р▓ор▓╕р│Нр▓пр│Ж р▓Зр▓жр│Жред ЁЯШФ

р▓жр▓пр▓╡р▓┐р▓Яр│Нр▓Яр│Б р▓╕р│Нр▓╡р▓▓р│Нр▓к р▓╕р▓ор▓пр▓ж р▓ир▓Вр▓др▓░ р▓ор▓др│Нр▓др│Ж р▓кр│Нр▓░р▓пр▓др│Нр▓ир▓┐р▓╕р▓┐ред`,
          
          ml: isOverloaded
            ? `р┤Хр╡Нр┤╖р┤ор┤┐р┤Хр╡Нр┤Хр┤гр┤В, AI р┤╕р╡Зр┤╡р┤ир┤В р┤Зр┤кр╡Нр┤кр╡Лр╡╛ р┤╡р┤│р┤░р╡Ж р┤др┤┐р┤░р┤Хр╡Нр┤Хр┤┐р┤▓р┤╛р┤гр╡Нред ЁЯЪА

ЁЯФД **р┤жр┤пр┤╡р┤╛р┤пр┤┐ р┤Хр╡Бр┤▒р┤Ър╡Нр┤Ър╡Н р┤ор┤┐р┤ир┤┐р┤▒р╡Нр┤▒р╡Н р┤Хр┤┤р┤┐р┤Юр╡Нр┤Юр╡Н р┤╡р╡Ар┤гр╡Нр┤Яр╡Бр┤В р┤╢р╡Нр┤░р┤ор┤┐р┤Хр╡Нр┤Хр╡Бр┤Х**

р┤И р┤╕р┤ор┤пр┤др╡Нр┤др╡Н р┤ир┤┐р┤Щр╡Нр┤Щр╡╛р┤Хр╡Нр┤Хр╡Н р┤И р┤╡р┤┐р┤╖р┤пр┤Щр╡Нр┤Щр┤│р┤┐р╡╜ р┤Ър╡Лр┤жр╡Нр┤пр┤Щр╡Нр┤Щр╡╛ р┤др┤пр╡Нр┤пр┤╛р┤▒р┤╛р┤Хр╡Нр┤Хр┤╛р┤В:
тАв ЁЯМ╛ р┤╡р┤┐р┤│ р┤ир┤Яр╡Ар╡╜ р┤ор┤▒р╡Нр┤▒р╡Бр┤В р┤кр┤░р┤┐р┤Ър┤░р┤гр┤В
тАв ЁЯРЫ р┤Хр╡Ар┤Яр┤Щр╡Нр┤Щр┤│р╡Бр┤В р┤░р╡Лр┤Ч р┤ир┤┐р┤пр┤ир╡Нр┤др╡Нр┤░р┤гр┤╡р╡Бр┤В
тАв ЁЯзк р┤ор┤гр╡Нр┤гр╡Бр┤В р┤╡р┤│р┤╡р╡Бр┤В р┤кр┤░р┤┐р┤╢р╡Лр┤зр┤и
тАв ЁЯТз р┤Ьр┤▓р┤╕р╡Зр┤Ър┤ир┤╡р╡Бр┤В р┤Ьр┤▓ р┤кр┤░р┤┐р┤кр┤╛р┤▓р┤ир┤╡р╡Бр┤В
тАв ЁЯМжя╕П р┤╡р┤┐р┤│р┤Хр┤│р┤┐р┤▓р╡Ж р┤Хр┤╛р┤▓р┤╛р┤╡р┤╕р╡Нр┤ер┤╛ р┤кр╡Нр┤░р┤нр┤╛р┤╡р┤В
тАв ЁЯПЫя╕П р┤╕р╡╝р┤Хр╡Нр┤Хр┤╛р╡╝ р┤кр┤жр╡Нр┤зр┤др┤┐р┤Хр┤│р╡Бр┤В р┤╕р┤мр╡Нр┤╕р┤┐р┤бр┤┐р┤пр╡Бр┤В

р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Хр╡Нр┤╖р┤ор┤пр╡Нр┤Хр╡Нр┤Хр╡Н р┤ир┤ир╡Нр┤жр┤┐! ЁЯЩП`
            : `р┤Хр╡Нр┤╖р┤ор┤┐р┤Хр╡Нр┤Хр┤гр┤В, р┤Зр┤кр╡Нр┤кр╡Лр╡╛ AI р┤╕р╡Зр┤╡р┤ир┤др╡Нр┤др┤┐р╡╜ р┤╕р┤╛р┤Щр╡Нр┤Хр╡Зр┤др┤┐р┤Х р┤кр╡Нр┤░р┤╢р╡Нр┤ир┤ор╡Бр┤гр╡Нр┤Яр╡Нред ЁЯШФ

р┤жр┤пр┤╡р┤╛р┤пр┤┐ р┤Хр╡Бр┤▒р┤Ър╡Нр┤Ър╡Н р┤╕р┤ор┤пр┤В р┤Хр┤┤р┤┐р┤Юр╡Нр┤Юр╡Н р┤╡р╡Ар┤гр╡Нр┤Яр╡Бр┤В р┤╢р╡Нр┤░р┤ор┤┐р┤Хр╡Нр┤Хр╡Бр┤Хред`,
          
          or: isOverloaded
            ? `рмХрнНрм╖рморм╛ рмХрм░рмирнНрмдрнБ, AI рм╕рнЗрммрм╛ рммрм░рнНрмдрнНрмдрморм╛рми рммрм╣рнБрмд рммрнНрнЯрм╕рнНрмд рмЕрмЫрм┐ред ЁЯЪА

ЁЯФД **рмжрнЯрм╛рмХрм░рм┐ рмХрм┐рмЫрм┐ рморм┐рмирм┐рмЯ рмкрм░рнЗ рмкрнБрмгрм┐ рмЪрнЗрм╖рнНрмЯрм╛ рмХрм░рмирнНрмдрнБ**

рмПрм╣рм┐ рм╕рморнЯрм░рнЗ рмЖрмкрмг рмПрм╣рм┐ рммрм┐рм╖рнЯрмЧрнБрмбрм╝рм┐рмХрм░рнЗ рмкрнНрм░рм╢рнНрми рмкрнНрм░рм╕рнНрмдрнБрмд рмХрм░рм┐рмкрм╛рм░рм┐рммрнЗ:
тАв ЁЯМ╛ рмлрм╕рм▓ рм░рнЛрмкрмг рмПрммрмВ рмпрмдрнНрми
тАв ЁЯРЫ рмХрнАрмЯ рмПрммрмВ рм░рнЛрмЧ рмирм┐рнЯрмирнНрмдрнНрм░рмг
тАв ЁЯзк рморм╛рмЯрм┐ рмПрммрмВ рм╕рм╛рм░ рмкрм░рнАрмХрнНрм╖рм╛
тАв ЁЯТз рмЬрм│рм╕рнЗрмЪрми рмПрммрмВ рмЬрм│ рмкрм░рм┐рмЪрм╛рм│рмирм╛
тАв ЁЯМжя╕П рмлрм╕рм▓ рмЙрмкрм░рнЗ рмкрм╛рмЧрм░ рмкрнНрм░рмнрм╛рмм
тАв ЁЯПЫя╕П рм╕рм░рмХрм╛рм░рнА рмпрнЛрмЬрмирм╛ рмПрммрмВ рм╕рммрм╕рм┐рмбрм┐

рмЖрмкрмгрмЩрнНрмХ рмзрнИрм░рнНрмпрнНрнЯ рмкрм╛рмЗрмБ рмзрмирнНрнЯрммрм╛рмж! ЁЯЩП`
            : `рмХрнНрм╖рморм╛ рмХрм░рмирнНрмдрнБ, рммрм░рнНрмдрнНрмдрморм╛рми AI рм╕рнЗрммрм╛рм░рнЗ рмпрм╛рмирнНрмдрнНрм░рм┐рмХ рм╕рморм╕рнНрнЯрм╛ рмЕрмЫрм┐ред ЁЯШФ

рмжрнЯрм╛рмХрм░рм┐ рмХрм┐рмЫрм┐ рм╕рморнЯ рмкрм░рнЗ рмкрнБрмгрм┐ рмЪрнЗрм╖рнНрмЯрм╛ рмХрм░рмирнНрмдрнБред`,
          
          ur: isOverloaded
            ? `┘Е╪╣╪░╪▒╪к╪М AI ╪│╪▒┘И╪│ ┘Б█М ╪з┘Д┘И┘В╪к ╪и█Б╪к ┘Е╪╡╪▒┘И┘Б █Б█Т█Ф ЁЯЪА

ЁЯФД **╪и╪▒╪з█Б ┌й╪▒┘Е ┌й┌Ж┌╛ ┘Е┘Ж┘╣ ╪и╪╣╪п ╪п┘И╪и╪з╪▒█Б ┌й┘И╪┤╪┤ ┌й╪▒█М┌║**

╪з╪│ ╪п┘И╪▒╪з┘Ж ╪в┘╛ ╪з┘Ж ┘Е┘И╪╢┘И╪╣╪з╪к ┘╛╪▒ ╪│┘И╪з┘Д╪з╪к ╪к█М╪з╪▒ ┌й╪▒ ╪│┌й╪к█Т █Б█М┌║:
тАв ЁЯМ╛ ┘Б╪╡┘Д ┌й█М ╪и┘И╪з╪ж█М ╪з┘И╪▒ ╪п█М┌й┌╛ ╪и┌╛╪з┘Д
тАв ЁЯРЫ ┌й█М┌С█Т ╪з┘И╪▒ ╪и█М┘Е╪з╪▒█М ┌й╪з ┌й┘Ж┘╣╪▒┘И┘Д
тАв ЁЯзк ┘Е┘╣█М ╪з┘И╪▒ ┌й┌╛╪з╪п ┌й╪з ┘╣█М╪│┘╣
тАв ЁЯТз ╪в╪и┘╛╪з╪┤█М ╪з┘И╪▒ ┘╛╪з┘Ж█М ┌й╪з ╪з┘Ж╪к╪╕╪з┘Е
тАв ЁЯМжя╕П ┘Б╪╡┘Д┘И┌║ ┘╛╪▒ ┘Е┘И╪│┘Е ┌й╪з ╪з╪л╪▒
тАв ЁЯПЫя╕П ╪│╪▒┌й╪з╪▒█М ╪з╪│┌й█М┘Е╪▓ ╪з┘И╪▒ ╪│╪и╪│┌И█М

╪в┘╛ ┌й█Т ╪╡╪и╪▒ ┌й█Т ┘Д█М█Т ╪┤┌й╪▒█М█Б! ЁЯЩП`
            : `┘Е╪╣╪░╪▒╪к╪М ┘Б█М ╪з┘Д┘И┘В╪к AI ╪│╪▒┘И╪│ ┘Е█М┌║ ╪к┌й┘Ж█М┌й█М ┘Е╪│╪ж┘Д█Б █Б█Т█Ф ЁЯШФ

╪и╪▒╪з█Б ┌й╪▒┘Е ╪к┌╛┘И┌С█М ╪п█М╪▒ ╪и╪╣╪п ╪п┘И╪и╪з╪▒█Б ┌й┘И╪┤╪┤ ┌й╪▒█М┌║█Ф`,
          
          en: isOverloaded
            ? `Sorry, the AI service is currently very busy. ЁЯЪА

ЁЯФД **Please try again in a few minutes**

Meanwhile, you can prepare questions about:
тАв ЁЯМ╛ Crop planting and care
тАв ЁЯРЫ Pest and disease control
тАв ЁЯзк Soil and fertilizer testing
тАв ЁЯТз Irrigation and water management  
тАв ЁЯМжя╕П Weather impact on crops
тАв ЁЯПЫя╕П Government schemes and subsidies

Thank you for your patience! ЁЯЩП`
            : `Sorry, I'm experiencing technical issues right now. ЁЯШФ

You can ask questions about:
тАв Crop planting and care
тАв Pest and disease control
тАв Soil and fertilizers
тАв Irrigation and water management  
тАв Weather and crops
тАв Government schemes

Please try again in a moment.`
        };
        
        return messages[lang] || messages.en;
      };

      const fallbackMessage = getFallbackMessage(language, isOverloadedError);

      return {
        text: fallbackMessage,
        category: 'error',
        confidence: 0.1,
        suggestions: this.generateSuggestions('cropManagement', language)
      };
    }
  }

  public clearHistory(): void {
    this.conversationHistory = [];
  }

  public getConversationHistory(): any[] {
    return this.conversationHistory;
  }
}

export default new GeminiAiService();
